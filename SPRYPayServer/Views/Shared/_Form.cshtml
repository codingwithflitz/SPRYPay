@using Microsoft.AspNetCore.Mvc.TagHelpers
@using SPRYPayServer.Forms
@model SPRYPayServer.Abstractions.Form.Form
@inject FormComponentProviders FormComponentProviders

@foreach (var field in Model.Fields)
{
    if (FormComponentProviders.TypeToComponentProvider.TryGetValue(field.Type, out var partial))
    {
        <partial name="@partial.View" for="@field" />
    }
}
